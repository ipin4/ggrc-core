{{!
    Copyright (C) 2017 Google Inc.
    Licensed under http://www.apache.org/licenses/LICENSE-2.0 <see LICENSE file>
}}

<header class="header tree-header flex-box {{cssClasses}}">
  <tree-header-selector class="tree-header-selector">
    {{^if disableConfiguration}}
    <a href="#" class="dropdown-toggle tview-dropdown-toggle visible-columns-icon"
       data-toggle="dropdown">
      <i class="fa fa-fw fa-bars"></i>
    </a>
    <div class="dropdown-menu dropdown-menu-form visible-columns-list">
      <ul class="selected-attr">
        {{#currentDisplayQueue}}
          <li>
            <div class="item-title">{{attr_title}}</div>
            <div class="arrows">
              <a><i class="fa fa-angle-down" data="down" ($mousedown)="moveItem(%event, %context, 'down')"></i></a>
              <a><i class="fa fa-angle-up" data="up" ($mousedown)="moveItem(%event, %context, 'up')"></i></a>
            </div>
          </li>
        {{/currentDisplayQueue}}
      </ul>
      <div class="attr-container">
        <a class="pull-right close-dropdown"><i class="fa fa-times black"></i></a>
        <h5>Set visible fields for {{modelName}}</h5>

        <ul class="attr-list">
          {{#availableColumns}}
            <li class="{{#if mandatory}}disabled{{/if}}">
              <label class="checkbox-inline" title="{{attr_title}}">
                <input type="checkbox"
                      {{#if display_status}}checked="checked"{{/if}}
                      {{#if mandatory}}disabled{{/if}}
                      ($change)="onChange(%event, %context)"
                      value="{{attr_name}}"
                      class="notify-wrap attr-checkbox {{#if mandatory}}mandatory{{/if}}"
                >
                {{attr_title}}
              </label>
            </li>
          {{/availableColumns}}
        </ul>
        <button class="btn btn-small btn-lightBlue set-tree-attrs" href="javascript://" ($click)="setColumns">Set fields</button>
        <button class="btn btn-small btn-gray set-tree-attrs wide-close">Close</button>
      </div>
    </div>
    {{/if}}
  </tree-header-selector>
  <div class="flex-box tree-header-titles">
    {{#selectedColumns}}
      <div class="flex-box widget-col-title {{attr_sort_field}}" ($click)="onOrderChange($element)" data-field="{{attr_sort_field}}">
          <span>{{attr_title}}</span>
          <i class="fa fa-{{#sortIcon attr_sort_field sortingInfo.sortBy sortingInfo.sortDirection}}{{/sortIcon}}"></i>
      </div>
    {{/selectedColumns}}
    </div>
</header>
